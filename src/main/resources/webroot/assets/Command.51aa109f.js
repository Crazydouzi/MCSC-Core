import{g as de,u as fe,c as B,r as m,h as te,i as w,j as ae,ai as ve,a as t,m as j,F as L,M as Q,N as me,aj as ge,v as M,ak as xe,f as Ve,al as _e,d as Ce,o as Fe,b as he,w as a,e as x,af as E,x as v,Q as Y,O as pe,am as Se}from"./index.9753a940.js";import{S as ke}from"./sockjs.min.34b99d19.js";import{I as ye,$ as N,D as O,E as we}from"./VAvatar.540c951f.js";import{V as Z,a as $,b as Ie,g as ee,f as Ae,e as be}from"./VSpacer.34de78e0.js";import{a as J,V}from"./VList.2e30d169.js";import{V as De}from"./VChip.5e379713.js";import{m as Pe,a as Be,u as Ee,f as Ne,b as Re,V as Me,c as Te,d as He,e as ze,g as R}from"./forwardRefs.cd29eeea.js";import{V as Ue}from"./VTextField.20ab6830.js";import{u as Ge}from"./tag.9461cb4b.js";import{V as qe}from"./VContainer.5fe4f2fe.js";/* empty css              */const Ke=de()({name:"VTextarea",directives:{Intersect:ye},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...Pe(),...Be()},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:o,emit:c,slots:d}=i;const u=fe(e,"modelValue"),{isFocused:s,focus:I,blur:T}=Ee(e),D=B(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),H=B(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function z(l,f){var r,C;!e.autofocus||!l||(C=(r=f[0].target)==null?void 0:r.focus)==null||C.call(r)}const P=m(),p=m(),F=m(""),S=m(),U=B(()=>s.value||e.persistentPlaceholder),n=B(()=>e.messages.length?e.messages:s.value||e.persistentHint?e.hint:"");function g(){var l;S.value!==document.activeElement&&((l=S.value)==null||l.focus()),s.value||I()}function h(l){g(),c("click:control",l)}function le(l){c("mousedown:control",l)}function ne(l){l.stopPropagation(),g(),M(()=>{u.value="",xe(e["onClick:clear"],l)})}function ue(l){const f=l.target,r=[f.selectionStart,f.selectionEnd];u.value=f.value,M(()=>{f.selectionStart=r[0],f.selectionEnd=r[1]})}const k=m();function y(){!e.autoGrow||M(()=>{if(!k.value||!p.value)return;const l=getComputedStyle(k.value),f=getComputedStyle(p.value.$el),r=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),C=k.value.scrollHeight,G=parseFloat(l.lineHeight),q=Math.max(parseFloat(e.rows)*G+r,parseFloat(f.getPropertyValue("--v-input-control-height"))),K=parseFloat(e.maxRows)*G+r||1/0;F.value=Ve(_e(C!=null?C:0,q,K))})}te(y),w(u,y),w(()=>e.rows,y),w(()=>e.maxRows,y),w(()=>e.density,y);let _;return w(k,l=>{l?(_=new ResizeObserver(y),_.observe(k.value)):_==null||_.disconnect()}),ae(()=>{_==null||_.disconnect()}),Ge(()=>{const l=!!(d.counter||e.counter||e.counterValue),f=!!(l||d.details),[r,C]=ve(o),[{modelValue:G,...q}]=Ne(e),[K]=Re(e);return t(He,j({ref:P,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},r,q,{focused:s.value,messages:n.value}),{...d,default:A=>{let{isDisabled:b,isDirty:W,isReadonly:oe,isValid:se}=A;return t(Me,j({ref:p,style:{"--v-textarea-control-height":F.value},onClick:h,onMousedown:le,"onClick:clear":ne,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},K,{active:U.value||W.value,dirty:W.value||e.dirty,disabled:b.value,focused:s.value,error:se.value===!1}),{...d,default:re=>{let{props:{class:X,...ie}}=re;return t(L,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),Q(t("textarea",j({ref:S,class:X,value:u.value,onInput:ue,autofocus:e.autofocus,readonly:oe.value,disabled:b.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:T},ie,C),null),[[me("intersect"),{handler:z},null,{once:!0}]]),e.autoGrow&&Q(t("textarea",{class:[X,"v-textarea__sizer"],"onUpdate:modelValue":ce=>u.value=ce,ref:k,readonly:!0,"aria-hidden":"true"},null),[[ge,u.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:f?A=>{var b;return t(L,null,[(b=d.details)==null?void 0:b.call(d,A),l&&t(L,null,[t("span",null,null),t(Te,{active:e.persistentCounter||s.value,value:D.value,max:H.value},d.counter)])])}:void 0})}),ze({},P,p,S)}}),tt=Ce({__name:"Command",setup(e){let i=null,o=m(""),c=m(""),d=m(""),u=m(!1),s=m(!1),I;function T(){i=new ke("http://localhost:8080/ws/server/cmd/"),i.onopen=function(){console.log("open"),s.value=!0},i.onmessage=n=>{o.value=o.value+`
[Server>]:`+n.data},i.onclose=()=>{alert("Socket\u5173\u95ED"),console.log("close"),s.value=!1,u.value=!1}}function D(){i!=null&&(i.close(),i.onclose=function(){alert("Socket\u5173\u95ED"),console.log("close"),s.value=!1})}function H(){i.send(c.value),c.value?(o.value=o.value+`
[CMD>]:`+c.value,c.value=null):o.value=o.value+`
[CMD>]:`,console.log(o.value)}function z(){M(()=>{const n=document.getElementById("cmdArea");n.scrollTop=n.scrollHeight})}function P(){N.request(O.openServer).then(n=>{alert(n.msg),F()})}function p(){N.request(O.closeServer).then(n=>{alert(n.msg),F()})}function F(){N.request(O.getStatus).then(n=>{u.value=n.data})}function S(){N.request(we.enableServerInfo).then(n=>{console.log(n),d.value=n.data.serverName})}function U(n){return n?"success":"error"}return w(()=>o.value,(n,g)=>{z()}),te(()=>{F(),S(),I=setInterval(()=>{setTimeout(()=>{F()},1)},1e4)}),ae(()=>{i&&D(),I&&clearInterval(I)}),(n,g)=>(Fe(),he(qe,{fluid:!0},{default:a(()=>[t(be,null,{default:a(()=>[t(Z,{cols:"12",xs:"12",xl:"3",md:"3",lg:"3"},{default:a(()=>[t(J,{style:{"background-color":"#f3f3f3"}},{default:a(()=>[t(V,null,{default:a(()=>[t($,null,{default:a(()=>[t(Ie,null,{default:a(()=>[x("\u670D\u52A1\u5668\uFF1A"+E(v(d)),1)]),_:1}),t(ee,null,{default:a(()=>[t(J,null,{default:a(()=>[t(V,null,{default:a(()=>[x(" \u8FD0\u884C\u72B6\u6001\uFF1A "),t(De,{class:"ma-2",color:U(v(u)),variant:"outlined",label:""},{default:a(()=>[x(E(v(u)?"\u5F00\u542F":"\u5173\u95ED"),1)]),_:1},8,["color"])]),_:1}),t(V,null,{default:a(()=>[x(" \u5728\u7EBF\u4EBA\u6570\uFF1A"+E("NaN"))]),_:1}),t(V,null,{default:a(()=>[x(" \u5EF6\u8FDF\uFF1A"+E("NaN")+" MS ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{class:"mt-2"},{default:a(()=>[t($,null,{default:a(()=>[t(ee,null,{default:a(()=>[t(J,null,{default:a(()=>[t(V,null,{default:a(()=>[t(R,{onClick:T,disabled:v(s)},{default:a(()=>[x("\u8FDE\u63A5\u7EC8\u7AEF")]),_:1},8,["disabled"])]),_:1}),t(V,null,{default:a(()=>[t(R,{onClick:D,disabled:!v(s)},{default:a(()=>[x("\u65AD\u5F00\u8FDE\u63A5")]),_:1},8,["disabled"])]),_:1}),t(V,null,{default:a(()=>[t(R,{onClick:P,disabled:v(u)},{default:a(()=>[x("\u5F00\u542F\u670D\u52A1\u5668")]),_:1},8,["disabled"])]),_:1}),t(V,null,{default:a(()=>[t(R,{onClick:p,disabled:!v(u)},{default:a(()=>[x("\u5173\u95ED\u670D\u52A1\u5668")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,{xs:"12"},{default:a(()=>[t($,{theme:"dark"},{default:a(()=>[t(Ae),t(Ke,{id:"cmdArea",readonly:"",variant:"plain",modelValue:v(o),"onUpdate:modelValue":g[0]||(g[0]=h=>Y(o)?o.value=h:o=h),"hide-details":"",class:"cmdTextArea",rows:"30","no-resize":!0},null,8,["modelValue"]),Q(t(Ue,{variant:"plain",prefix:" [CMD>]:",modelValue:v(c),"onUpdate:modelValue":g[1]||(g[1]=h=>Y(c)?c.value=h:c=h),onKeyup:Se(H,["enter","native"]),"hide-details":"",dirty:!0,class:"cmdInputBox"},null,8,["modelValue","onKeyup"]),[[pe,v(s)]])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{tt as default};
