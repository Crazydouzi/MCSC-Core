import{g as x,k as P,p as T,a as e,f as $,d as q,r as E,h as w,o as c,ax as C,w as n,e as F,x as h,Q as I,ae as s,F as N,ay as R,y as L,au as S,af as M,b as _}from"./index.9753a940.js";import{k as z,r as H,$ as p,D as m}from"./VAvatar.540c951f.js";import{V as U,b as j}from"./VToolbar.ea7f237a.js";import{f as Q,c as G,e as J,V as y,a as K}from"./VSpacer.34de78e0.js";import{g as D}from"./forwardRefs.cd29eeea.js";import{V as O}from"./VFileInput.1ef25f52.js";import{m as W,u as X}from"./tag.9461cb4b.js";/* empty css              */import"./VChip.5e379713.js";const Y=x()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...z(),...W(),...P()},setup(r,v){let{slots:u}=v;const{themeClasses:t}=T(r),{densityClasses:i}=H(r);return X(()=>e(r.tag,{class:["v-table",{"v-table--fixed-height":!!r.height,"v-table--fixed-header":r.fixedHeader,"v-table--fixed-footer":r.fixedFooter,"v-table--has-top":!!u.top,"v-table--has-bottom":!!u.bottom,"v-table--hover":r.hover},t.value,i.value]},{default:()=>{var f,g,d;return[(f=u.top)==null?void 0:f.call(u),u.default?e("div",{class:"v-table__wrapper",style:{height:$(r.height)}},[e("table",null,[u.default()])]):(g=u.wrapper)==null?void 0:g.call(u),(d=u.bottom)==null?void 0:d.call(u)]}})),{}}}),Z=s("p",{style:{"font-size":"larger"}},[s("span",{style:{color:"red"}},"\u3010\u8BF7\u6CE8\u610F!\u3011"),F("\u5F53\u670D\u52A1\u5668\u5904\u4E8E\u5F00\u542F\u72B6\u6001\u65F6\uFF0C\u5C06\u65E0\u6CD5\u505C\u6B62\u6B63\u5728\u8FD0\u884C\u65F6\u7684\u63D2\u4EF6\uFF0C\u4E3A\u4E86\u786E\u4FDD\u670D\u52A1\u5668\u7684\u8FD0\u884C\u5B89\u5168\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u5728\u4FEE\u6539\u63D2\u4EF6\u542F\u7528\u72B6\u6001\u65F6\u786E\u4FDD\u670D\u52A1\u5668\u5DF2\u7ECF\u5173\u95ED\u3002 ")],-1),uu=s("p",{style:{"font-size":"larger"},class:"mt-3"},[s("span",{style:{color:"red"}},"\u3010\u8BF7\u6CE8\u610F!\u3011"),F("\u5F53\u670D\u52A1\u5668\u5904\u4E8E\u5F00\u542F\u72B6\u6001\u65F6\uFF0C\u82E5\u91CD\u8F7D\u63D2\u4EF6\u4F1A\u5BFC\u81F4\u670D\u52A1\u5668\u53EF\u80FD\u51FA\u73B0\u5F02\u5E38\uFF0C\u6545\u4E0D\u63A8\u8350\u6709\u73A9\u5BB6\u5728\u670D\u52A1\u5668\u65F6\u6267\u884C\u91CD\u8F7D\u63D2\u4EF6\u64CD\u4F5C(\u6216\u6267\u884C\u76F8\u5173\u547D\u4EE4)\u3002 ")],-1),eu=s("thead",null,[s("tr",null,[s("th",{class:"text-left"}," \u63D2\u4EF6\u540D "),s("th",{class:"text-right"}," \u64CD\u4F5C ")])],-1),lu={key:0,style:{color:"red"}},tu={class:"text-right"},fu=q({__name:"pluginsManage",setup(r){let u={id:L().currentRoute.value.params.id[0]},t={MCServer:{id:u.id},plugin:null},i=E(),f=E(),g=E();function d(){p.request(m.getPluginList,u).then(o=>{g.value=o.data})}function A(o){t.plugin=o,p.request(m.setEnablePlugin,t).then(a=>{console.log(a)}).finally(()=>{d(),t.plugin=null})}function B(o){t.plugin=o,p.request(m.setDisablePlugin,t).then(a=>{console.log(a)}).finally(()=>{d(),t.plugin=null})}function V(o){if(confirm("\u662F\u5426\u5220\u9664\u63D2\u4EF6\uFF1A"+o+"?")){let a={id:u.id,plugin:o};p.request(m.deletePlugin,a).then(l=>{console.log(l)}).finally(()=>{d(),t.plugin=null})}}function k(){confirm("\u662F\u5426\u7ACB\u5373\u4E0A\u4F20"+i.value[0].name+"?")&&(t.plugin=i.value[0],p.request(m.uploadPlugin,t).then(o=>{alert(o.msg)}).finally(()=>{d(),t.plugin=null}))}return w(()=>{d()}),(o,a)=>(c(),C("div",null,[e(K,{color:"lighten-5",flat:"",tile:""},{default:n(()=>[e(U,{density:"compact",color:"red"},{default:n(()=>[e(j,null,{default:n(()=>[F("\u63D2\u4EF6\u7BA1\u7406")]),_:1}),e(Q)]),_:1}),e(G,null,{default:n(()=>[e(J,null,{default:n(()=>[e(y,{cols:"12"},{default:n(()=>[Z,uu]),_:1}),e(y,{cols:"12"},{default:n(()=>[e(D,{"x-large":"",class:"mx-5",variant:"outlined",color:"green",onClick:a[0]||(a[0]=l=>h(f).click())},{default:n(()=>[F("\u4E0A\u4F20\u63D2\u4EF6")]),_:1}),e(O,{label:"\u4E0A\u4F20\u63D2\u4EF6",class:"mx-5",required:"",chips:!0,modelValue:h(i),"onUpdate:modelValue":[a[1]||(a[1]=l=>I(i)?i.value=l:i=l),a[2]||(a[2]=l=>k())],ref_key:"fileInput",ref:f,accept:".jar",style:{display:"none"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,{width:"100%",class:"mt-5"},{default:n(()=>[eu,s("tbody",null,[(c(!0),C(N,null,R(h(g),l=>(c(),C("tr",null,[s("td",null,[/disable/.test(l)?(c(),C("span",lu,"[\u7981\u7528]")):S("",!0),F(M(l.replace(".disabled","")),1)]),s("td",tu,[/disable/.test(l)?(c(),_(D,{key:1,color:"green",variant:"outlined",onClick:b=>A(l)},{default:n(()=>[F("\u542F\u7528")]),_:2},1032,["onClick"])):(c(),_(D,{key:0,color:"red",variant:"outlined",onClick:b=>B(l)},{default:n(()=>[F("\u7981\u7528")]),_:2},1032,["onClick"])),e(D,{class:"ml-4",onClick:b=>V(l)},{default:n(()=>[F("\u5220\u9664")]),_:2},1032,["onClick"])])]))),256))])]),_:1})]))}});export{fu as default};
